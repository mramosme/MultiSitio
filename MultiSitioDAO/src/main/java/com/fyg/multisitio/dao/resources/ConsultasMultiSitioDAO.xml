<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.fyg.multisitio.dao.resources.ConsultasMultiSitioDAO">


<!--- CONSULTA EN LA TABLA CONTACTO-->
<select id="consultaContacto" parameterType="contacto" resultType="string">
SELECT calle,colonia,telefono,correo
FROM contacto
WHERE id =#{id}
</select>

<!--- CONSULTA EN LA TABLA GALERIA-->
<select id="consultaGaleria" parameterType="galeria" resultType="string">
SELECT urlImagen
FROM galeria
WHERE idNegocio = #{idNegocio}
</select>

<!--- CONSULTA EN LA TABLA NEGOCIO-->
<select id="consultaNegocio" parameterType="negocio" resultType="string">
SELECT nombre,descripcionCorta,DescripcionLarga,urlLogotipo,estatus,ligaFB,ligaPagina,calificacion,wifi,estacionamiento,areaNinos,mascotas
FROM negocio
WHERE id = #{id} AND idSitio = #{idSitio}
</select>

<!--- CONSULTA EN LA TABLA SITIO-->
<select id="consultaSitio" parameterType="sitio" resultType="string">
SELECT nombre,contacto,domicilio,telefono,fechaRegistro,estatus,idZona
FROM sitio
WHERE id = #{id}
</select>

<!--- CONSULTA EN LA TABLA ZONA-->
<select id="consultaZona" parameterType="zona" resultType="string">
SELECT nombre,descripcion,urlImagen,estatus
FROM zona
WHERE id = #{id}
</select>

<mapper
	namespace="com.fyg.multisitio.dao.resources.ConsultasMultiSitioDAO">

<!-- Consulta General Sitio -->
<select id="consultaSitioGeneral" parameterType="sitio" resultType="String">
SELECT sitio.nombre,sitio.domicilio,sitio.telefono,sitio.fechaRegistro,
	sitio.estatus,sitio.idZona,contacto.nombre,contacto.calle,contacto.colonia,contacto.telefono,contacto.correo,
	zona.nombre,zona.descripcion,zona.urlImagen
	FROM sitio
	INNER JOIN contacto ON sitio.contacto = contacto.id
	INNER JOIN zona ON sitio.idZona = zona.id
	WHERE sitio.id = #{id}
</select>

<!-- Consulta Negocio General -->
<select id="consultaNegocioGeneral" parameterType="negocio" resultType="String">
SELECT negocio.nombre,negocio.descripcionCorta,negocio.urlLogotipo,negocio.estatus,negocio.ligaFB,negocio.ligaPagina,
	negocio.calificacion,negocio.wifi,negocio.estacionamiento,negocio.areaNinos,negocio.mascotas,galeria.urlImagen,contacto.nombre,
	contacto.calle,contacto.colonia,contacto.telefono,contacto.correo,sitio.nombre,sitio.domicilio,sitio.telefono
	FROM negocio
	INNER JOIN galeria  ON negocio.id = galeria.idNegocio
	INNER JOIN contacto ON negocio.idContacto = contacto.id
	INNER JOIN sitio ON negocio.idSitio = sitio.id
WHERE negocio.id = #{id}
</select>
</mapper>